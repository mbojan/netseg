<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Creating network mixing matrices (mixingm()) and data frames (mixingdf())."><title>Network mixing matrix — mixingm • netseg</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Network mixing matrix — mixingm"><meta property="og:description" content="Creating network mixing matrices (mixingm()) and data frames (mixingdf())."><meta property="og:image" content="https://mbojan.github.io/netseg/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">netseg</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0-3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/netseg.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mbojan/netseg/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Network mixing matrix</h1>
      <small class="dont-index">Source: <a href="https://github.com/mbojan/netseg/blob/HEAD/R/mixingm.R" class="external-link"><code>R/mixingm.R</code></a></small>
      <div class="d-none name"><code>mixingm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creating network mixing matrices (<code>mixingm()</code>) and data frames (<code>mixingdf()</code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mixingm</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for igraph</span></span>
<span><span class="fu">mixingm</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  <span class="va">rattr</span>,</span>
<span>  cattr <span class="op">=</span> <span class="va">rattr</span>,</span>
<span>  full <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  directed <span class="op">=</span> <span class="fu"><a href="https://r.igraph.org/reference/is_directed.html" class="external-link">is.directed</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span>,</span>
<span>  loops <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="fu"><a href="https://r.igraph.org/reference/which_multiple.html" class="external-link">is.loop</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mixingdf</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for table</span></span>
<span><span class="fu">mixingdf</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for igraph</span></span>
<span><span class="fu">mixingdf</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>R object, see Details for available methods</p></dd>


<dt>...</dt>
<dd><p>other arguments passed to/from other methods</p></dd>


<dt>rattr</dt>
<dd><p>name of the vertex attribute or an attribute itself as a vector.
If <code>cattr</code> is not <code>NULL</code>, <code>rattr</code> is used for rows of the resulting mixing
matrix.</p></dd>


<dt>cattr</dt>
<dd><p>name of the vertex attribute or an attribute itself as a vector.
If supplied, used for columns in the mixing matrix.</p></dd>


<dt>full</dt>
<dd><p>logical, whether two- or three-dimensional mixing matrix should
be returned.</p></dd>


<dt>directed</dt>
<dd><p>logical, whether the network is directed. By default,
directedness of the network is determined with <code><a href="https://r.igraph.org/reference/is_directed.html" class="external-link">igraph::is_directed()</a></code>.</p></dd>


<dt>loops</dt>
<dd><p>logical, whether loops are allowed. By default it is <code>TRUE</code>
whenever there is at least one loop in <code>object</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Function <code>mixingm()</code>, depending on <code>full</code> argument, a two- or
three-dimensional array crossclassifying connected or all dyads in
<code>object</code>. For undirected network and if <code>foldit</code> is <code>TRUE</code> (default), the
matrix is folded onto the upper triangle (entries in lower triangle are 0).</p>


<p>Function <code>mixingdf()</code> returns non-zero entries of a mixing matrix (as
returned by <code>mixingm()</code>), but organized in a data frame with columns:</p><ul><li><p><code>ego</code>, <code>alter</code> -- group membership of ego an alter</p></li>
<li><p><code>tie</code> -- present only if <code>full=TRUE</code>, with <code>TRUE</code> or <code>FALSE</code> for connected
and disconnected dyads respectively</p></li>
<li><p><code>n</code> -- counts</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Network mixing matrix is, traditionally, a two-dimensional
cross-classification of edges depending on the values of a specified vertex
attribute for tie sender and tie receiver. It is an important tool
for assessing network homophily or segregation.</p>
<p>Let \(G\) be the number of distinct values of the vertex attribute in
question.  We may say that we have \(G\) mutually exclusive groups in the
network.  The mixing matrix is a \(G \times G\) matrix such that
\(m_{ij}\) is the number of ties send by vertices in group \(i\)
to vertices in group \(j\). The diagonal of that matrix is of special
interest as, say, \(m_{ii}\) is the number of ties <em>within</em>
group \(i\).</p>
<p>A full mixing matrix is a three-dimensional array that cross-classifies
<em>all</em> network <em>dyads</em> depending on:</p><ol><li><p>the value of the vertex attribute for tie sender</p></li>
<li><p>the value of the vertex attribute for tie receiver</p></li>
<li><p>the status of the dyad, i.e. whether it is connected or not</p></li>
</ol><p>The two-dimensional version is a so-called "contact layer"
of the three-dimensional version.</p>
<p>If <code>object</code> is of class "igraph," mixing matrix is created for the
network in <code>object</code> based on vertex attributes supplied in arguments
<code>rattr</code> and optionally <code>cattr</code>.</p>
<p>If only <code>rattr</code> is specified (or, equivalently, <code>rattr</code> and <code>cattr</code> are
identical), the result will be a mixing matrix \(G \times G\) if <code>full</code>
is <code>FALSE</code> or \(G \times G \times 2\) if <code>full</code> is <code>TRUE</code>. Where
\(G\) is the number of categories of vertex attribute specified by
<code>rattr</code>.</p>
<p>If <code>rattr</code> and <code>cattr</code> can be used to specify different vertex attributes
for tie sender and tie receiver.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"igraph"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="co"># some directed network</span></span></span>
<span class="r-in"><span>  <span class="va">net</span> <span class="op">&lt;-</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/make_graph.html" class="external-link">make_graph</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>, <span class="fl">1</span>,<span class="fl">3</span>, <span class="fl">2</span>,<span class="fl">3</span>,  <span class="fl">4</span>,<span class="fl">5</span>,  <span class="fl">1</span>,<span class="fl">4</span>, <span class="fl">1</span>,<span class="fl">5</span>, <span class="fl">4</span>,<span class="fl">2</span>, <span class="fl">5</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/V.html" class="external-link">V</a></span><span class="op">(</span><span class="va">net</span><span class="op">)</span><span class="op">$</span><span class="va">type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>, <span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">mixingm</span><span class="op">(</span><span class="va">net</span>, <span class="st">"type"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">mixingm</span><span class="op">(</span><span class="va">net</span>, <span class="st">"type"</span>, full<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># as undirected</span></span></span>
<span class="r-in"><span>  <span class="fu">mixingm</span><span class="op">(</span> <span class="fu">igraph</span><span class="fu">::</span><span class="fu"><a href="https://r.igraph.org/reference/as.directed.html" class="external-link">as.undirected</a></span><span class="op">(</span><span class="va">net</span><span class="op">)</span>, <span class="st">"type"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">mixingm</span><span class="op">(</span><span class="va">net</span>, <span class="st">"type"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu">mixingm</span><span class="op">(</span><span class="va">net</span>, <span class="st">"type"</span>, full<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , tie = FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    alter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ego 1 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1 3 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2 4 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> , , tie = TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    alter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ego 1 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1 3 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2 2 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Michal Bojanowski.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

